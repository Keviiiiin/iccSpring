## 结构

* 说明：手动实现aop的动态代理，手动实现spring的事务控制

用BeanFactory代理Service，给原有Service增加事务管理操作。

事务管理用TxManager实现，从当前线程上获取连接，如果没有则从数据源中获取一个连接并存入当前线程。这样保证了整套操作中连接只有一个，直到释放连接。释放连接时注意，先close（还回池中）再remove（解绑）